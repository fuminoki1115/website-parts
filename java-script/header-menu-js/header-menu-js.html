<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/style.css">
    <title>Document</title>
    <style>
      .header {
        height: 50px;
        background-color: #fff;
      }
      .global-nav {
        position: absolute;
        width: 100%;
        z-index: 10;
      }
      .global-nav__list {
        display: flex;
        justify-content: center;
        max-width: 1050px;
      display: -webkit-box;
      display: -ms-flexbox;
      margin: 0 auto;
      }
  .global-nav__list .nav-item {
    height: 50px;
    width: 200px;
    line-height: 50px;
    text-align: center;
  }   
      
      .global-nav.clone-nav {
        position: fixed;
        top: -100px;
        left: 0;
        transition: all 1s;
        background-color: #fff;
      }
      .global-nav.clone-nav.is-fixed-nav {
        top: 0;
      }
    </style>
  </head>
  <body>
    <header id="header" class="header">
      <nav class="global-nav" id="js-global-nav">
        <ul class="global-nav__list">
         
              <li class="nav-item"><a href="#">HOME</a></li>
              <li class="nav-item"><a href="#">ABOUT</a></li>
              <li class="nav-item"><a href="#">BLOG</a></li>
              <li class="nav-item"><a href="#">CONTACT</a></li>
            
        </ul>
      </nav>
    </header>
    <p id="js-trigger" style="margin-top: 100vh;">sample</p>
    <p id="js-trigger" style="margin-top: 100vh;">sample</p>
    <p style="margin-top: 100vh;">sample</p>

    <script>
      function setCloneNav() {
        var body = document.body;
        var globalNav = document.getElementById("js-global-nav");

        if (!globalNav) return;

        var cloneNav = globalNav.cloneNode(true);
        cloneNav.id = "js-clone-nav";
        cloneNav.classList.add("clone-nav");

        body.insertBefore(cloneNav, body.firstChild);
      }
      setCloneNav();

      /**
       * グローバルナビのクローンをページ上部に移動・固定
       */
      function fixedGlobalNav() {
        var scrollY = window.pageYOffset;
        var trigger = document.getElementById("js-trigger");
        var cloneNav = document.getElementById("js-clone-nav");

        if (!cloneNav || !trigger) return;

        var triggerClientRect = trigger.getBoundingClientRect();
        var triggerY = scrollY + triggerClientRect.top;
        if (scrollY > triggerY) {
          cloneNav.classList.add("is-fixed-nav");
        } else {
          cloneNav.classList.remove("is-fixed-nav");
        }
      }
      window.addEventListener("scroll", fixedGlobalNav);
    </script>
  </body>
</html>
